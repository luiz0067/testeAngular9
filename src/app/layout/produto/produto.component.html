<div class="card m-3 shadow bg-body rounded">
  <h5 class="card-header">
    Lista de produtos
  </h5>
  <div class="card-body">

    <div class="col-md-12 mb-1 mt-1 form-group">

          <label class="form-control-label">Grupo</label>
          <ng-select class="w-100" [formControl]="searchControlGrupoId!"
                    [items]="grupoSearch"
                    bindValue="id"
                    bindLabel="descricao"
                    [searchable]="true">
            <ng-template ng-option-tmp let-item="item">
              {{item.descricao}}
            </ng-template>
          </ng-select>

    </div>

    <div class="col-md-12 mb-1 mt-1 form-group">
        <label class="form-control-label">Nome</label>
        <input type="text" [formControl]="searchControlNome!" class="form-control"
          placeholder="Digite para pesquisar produtos pelo nome" />
    </div>



    <table class="table table-bordered table-striped table-hover rounded-3">
      <thead class="table-dark">
        <tr>
          <th class="text-center">#</th>
          <th>Descrição</th>
          <th>Estoque</th>
          <th>Preço custo</th>
          <th>Preço venda</th>
          <th>Grupo</th>
          <th>Inclusão</th>
          <th>Alteração</th>
          <th>
            <button class="btn btn-outline-primary btn-circle" (click)="abrirModal(undefined)">
              <i class="fa fa-plus"></i>
            </button>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of produtosSearch">
          <td class="text-center">{{ item.id }}</td>
          <td class="text-center">{{ item.descricao }}</td>
          <td class="text-center">{{ item.estoque }}</td>
          <td class="text-center">{{ item.preco?.custo}}</td>
          <td class="text-center">{{ item.preco?.venda }}</td>
          <td class="text-center">{{  item.grupoId }}</td>
          <td>{{ item.dateInsert | date : 'dd/MM/yyyy hh:mm' }}</td>
          <td>{{ item.dateUpdate | date : 'dd/MM/yyyy hh:mm' }}</td>
          <td>
            <button class="btn btn-outline-primary btn-circle" (click)="abrirModal(item)">
              <i class="fa fa-edit"></i>
            </button>
          </td>
        </tr>
      </tbody>
    </table>

  </div>
</div>
